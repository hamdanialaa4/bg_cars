import{d as B,u as rs,r as _,c as w,o as ds,a as o,b as l,e as s,f as u,t as a,F as v,g as h,n as c,h as d,w as z,v as us,i as gs,j as ms,k as vs,l as hs,m as V,_ as D,p as _s}from"./index-CsfPRsMY.js";const bs={class:"news-trends-page"},ps={class:"page-header"},fs={class:"header-content"},ks={class:"page-title"},ws={class:"page-subtitle"},Ls={class:"header-controls"},Is={class:"view-filters"},ys=["onClick"],Ts={class:"search-section"},Ss={class:"search-input-container"},As=["placeholder"],Ms={key:0,class:"loading-section"},Cs={class:"loading-animation"},xs={key:1,class:"main-content"},$s={key:0,class:"featured-news-section"},Ns={class:"featured-grid"},zs=["onClick"],Vs={class:"article-image"},Bs=["src","alt"],Ds={class:"article-overlay"},Fs={class:"article-content"},Ps={class:"article-meta"},Us={class:"source-info"},js={class:"source-name"},Es={class:"reliability-indicator"},qs={class:"publish-time"},Hs={class:"article-title"},Gs={class:"article-summary"},Qs={class:"article-insights"},Rs={class:"article-stats"},Js={class:"stat"},Ks={class:"stat"},Os={class:"stat"},Ws={class:"read-time"},Xs={key:1,class:"trending-section"},Ys={class:"section-title"},Zs={class:"trending-grid"},se=["onClick"],ee={class:"trending-rank"},te={class:"trending-content"},ne={class:"trending-topic"},ae={class:"trending-stats"},oe={class:"article-count"},le={class:"relevance-meter"},ie={class:"all-news-section"},ce={class:"section-header"},re={class:"section-title"},de={class:"sort-controls"},ue={value:"publishedAt"},ge={value:"importance"},me={value:"views"},ve={value:"likes"},he={class:"news-list"},_e=["onClick"],be={class:"article-thumbnail"},pe=["src","alt"],fe={class:"thumbnail-overlay"},ke={key:0,class:"premium-badge"},we={class:"article-info"},Le={class:"article-header"},Ie={class:"source-meta"},ye={class:"source"},Te={key:0,class:"author"},Se={class:"publish-date"},Ae={class:"article-headline"},Me={class:"article-excerpt"},Ce={key:0,class:"article-tags"},xe=["onClick"],$e={class:"article-footer"},Ne={class:"ai-analysis"},ze={class:"importance"},Ve={class:"engagement"},Be={class:"views"},De={class:"read-time"},Fe={key:0,class:"load-more-section"},Pe=["disabled"],Ue={key:0,class:"fas fa-plus"},je={key:1,class:"fas fa-spinner fa-spin"},Ee={class:"modal-header"},qe={class:"modal-meta"},He={class:"modal-body"},Ge={class:"article-insights-detailed"},Qe={class:"insights-grid"},Re={class:"insight-item"},Je={class:"insight-item"},Ke={class:"insight-item"},Oe={key:0,class:"topics-section"},We={class:"topics-list"},Xe=B({__name:"NewsTrendsPage",setup(F){const g=rs(),b=_("all"),p=_(""),L=_("publishedAt"),r=_(null),f=_(!1),A=_(!0),M=w(()=>g.featuredArticles.value),C=w(()=>g.trending.value),P=w(()=>{let n=g.latestArticles.value;if(b.value!=="all"&&(n=n.filter(t=>t.category===b.value)),p.value){const t=p.value.toLowerCase();n=n.filter(e=>e.title.toLowerCase().includes(t)||e.summary.toLowerCase().includes(t)||e.tags.some(i=>i.toLowerCase().includes(t)))}return n}),U=w(()=>{const n=[...P.value];switch(L.value){case"importance":return n.sort((t,e)=>e.aiInsights.importance-t.aiInsights.importance);case"views":return n.sort((t,e)=>e.stats.views-t.stats.views);case"likes":return n.sort((t,e)=>e.stats.likes-t.stats.likes);default:return n.sort((t,e)=>e.publishedAt.getTime()-t.publishedAt.getTime())}}),j=[{id:"all",name:"All",icon:"fas fa-globe"},{id:"automotive",name:"Automotive",icon:"fas fa-car"},{id:"electric",name:"Electric",icon:"fas fa-bolt"},{id:"market",name:"Market",icon:"fas fa-chart-line"},{id:"technology",name:"Technology",icon:"fas fa-microchip"},{id:"business",name:"Business",icon:"fas fa-briefcase"}],E=n=>{b.value=n},q=()=>{},H=()=>{},x=async n=>{p.value=n,await g.searchNews(n)},$=n=>{r.value=n,document.body.style.overflow="hidden"},N=()=>{r.value=null,document.body.style.overflow="auto"},G=async()=>{f.value=!0,await new Promise(n=>setTimeout(n,1e3)),A.value=Math.random()>.5,f.value=!1},Q=n=>{const e=Math.floor((new Date().getTime()-n.getTime())/(1e3*60*60)),i=localStorage.getItem("bgcar-locale")||"bg";if(e<1)return i==="bg"?"ÐŸÑ€ÐµÐ´Ð¸ Ð¿Ð¾-Ð¼Ð°Ð»ÐºÐ¾ Ð¾Ñ‚ Ñ‡Ð°Ñ":"Less than an hour ago";if(e<24)return i==="bg"?`ÐŸÑ€ÐµÐ´Ð¸ ${e} Ñ‡Ð°Ñ${e>1?"Ð°":""}`:`${e} hour${e>1?"s":""} ago`;const m=Math.floor(e/24);return m<7?i==="bg"?`ÐŸÑ€ÐµÐ´Ð¸ ${m} Ð´ÐµÐ½${m>1?"Ð°":""}`:`${m} day${m>1?"s":""} ago`:I(n)},I=n=>{const t=localStorage.getItem("bgcar-locale")||"bg";return new Intl.DateTimeFormat(t==="bg"?"bg-BG":"en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)},k=n=>{const t=localStorage.getItem("bgcar-locale")||"bg",e=t==="bg"?"Ð¼":"m",i=t==="bg"?"Ðº":"k";return n>=1e6?(n/1e6).toFixed(1)+e:n>=1e3?(n/1e3).toFixed(1)+i:n.toString()},R=n=>{const t=localStorage.getItem("bgcar-locale")||"bg";return{automotive:{bg:"ÐÐ²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ð¸",en:"Automotive"},electric:{bg:"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸",en:"Electric"},market:{bg:"ÐŸÐ°Ð·Ð°Ñ€",en:"Market"},technology:{bg:"Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸",en:"Technology"},business:{bg:"Ð‘Ð¸Ð·Ð½ÐµÑ",en:"Business"}}[n]?.[t]||n},y=n=>({positive:"fas fa-smile",neutral:"fas fa-meh",negative:"fas fa-frown"})[n]||"fas fa-question",T=n=>{const t=localStorage.getItem("bgcar-locale")||"bg";return{positive:{bg:"ÐŸÐ¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾",en:"Positive"},neutral:{bg:"ÐÐµÑƒÑ‚Ñ€Ð°Ð»Ð½Ð¾",en:"Neutral"},negative:{bg:"ÐžÑ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»Ð½Ð¾",en:"Negative"}}[n]?.[t]||(t==="bg"?"ÐÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¾":"Undefined")},S=n=>{const t=localStorage.getItem("bgcar-locale")||"bg";return{low:{bg:"ÐÐ¸ÑÑŠÐº",en:"Low"},medium:{bg:"Ð¡Ñ€ÐµÐ´ÐµÐ½",en:"Medium"},high:{bg:"Ð’Ð¸ÑÐ¾Ðº",en:"High"}}[n]?.[t]||(t==="bg"?"ÐÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¾":"Undefined")},J=n=>n>=.8?"critical":n>=.6?"high":n>=.4?"medium":"low",K=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð¼Ð¸Ð½ÑƒÑ‚Ð¸":"minutes",O=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð“Ð¾Ñ€ÐµÑ‰Ð¸ Ñ‚ÐµÐ¼Ð¸":"Trending Topics",W=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÑÑ‚Ð°Ñ‚Ð¸Ð¸":"articles",X=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ð½Ð¾Ð²Ð¸Ð½Ð¸":"All News",Y=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐÐ°Ð¹-Ð½Ð¾Ð²Ð¸":"Latest",Z=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð’Ð°Ð¶Ð½Ð¾ÑÑ‚":"Importance",ss=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐÐ°Ð¹-Ð³Ð»ÐµÐ´Ð°Ð½Ð¸":"Most Viewed",es=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐÐ°Ð¹-Ñ…Ð°Ñ€ÐµÑÐ²Ð°Ð½Ð¸":"Most Liked",ts=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼":"Premium",ns=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð¼Ð¸Ð½":"min",as=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐÐ½Ð°Ð»Ð¸Ð· Ð½Ð° Ð¸Ð·ÐºÑƒÑÑ‚Ð²ÐµÐ½Ð¸Ñ Ð¸Ð½Ñ‚ÐµÐ»ÐµÐºÑ‚":"AI Analysis",os=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ":"Sentiment",ls=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"Ð’Ð°Ð¶Ð½Ð¾ÑÑ‚":"Importance",is=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐŸÐ°Ð·Ð°Ñ€Ð½Ð¾ Ð²Ð»Ð¸ÑÐ½Ð¸Ðµ":"Market Impact",cs=()=>(localStorage.getItem("bgcar-locale")||"bg")==="bg"?"ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ñ‚ÐµÐ¼Ð¸":"Main Topics";return ds(async()=>{await g.fetchLatestNews()}),(n,t)=>(l(),o("div",bs,[s("div",ps,[s("div",fs,[s("h1",ks,"ðŸ“° "+a(n.$t("news.title")),1),s("p",ws,a(n.$t("news.subtitle")),1)]),s("div",Ls,[s("div",Is,[(l(),o(v,null,h(j,e=>s("button",{key:e.id,class:c(["filter-btn",{active:b.value===e.id}]),onClick:i=>E(e.id)},[s("i",{class:c(e.icon)},null,2),d(" "+a(e.name),1)],10,ys)),64))]),s("div",Ts,[s("div",Ss,[t[3]||(t[3]=s("i",{class:"fas fa-search"},null,-1)),z(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),type:"text",placeholder:n.$t("news.search_placeholder"),class:"search-input",onInput:q},null,40,As),[[us,p.value]])])])])]),gs(g).stats.value.isLoading?(l(),o("div",Ms,[s("div",Cs,[(l(),o(v,null,h(6,e=>s("div",{class:"news-skeleton",key:e},[...t[4]||(t[4]=[ms('<div class="skeleton-image" data-v-80beebe4></div><div class="skeleton-content" data-v-80beebe4><div class="skeleton-title" data-v-80beebe4></div><div class="skeleton-text" data-v-80beebe4></div><div class="skeleton-meta" data-v-80beebe4></div></div>',2)])])),64))])])):(l(),o("div",xs,[M.value.length>0?(l(),o("section",$s,[t[12]||(t[12]=s("h2",{class:"section-title"},[s("i",{class:"fas fa-star"}),d(" Alaa Cars News ")],-1)),s("div",Ns,[(l(!0),o(v,null,h(M.value.slice(0,3),e=>(l(),o("article",{key:e.id,class:"featured-article",onClick:i=>$(e)},[s("div",Vs,[s("img",{src:e.source.logo||"/news-placeholder.jpg",alt:e.title},null,8,Bs),s("div",Ds,[s("div",{class:c(["importance-badge",J(e.aiInsights.importance)])},[t[5]||(t[5]=s("i",{class:"fas fa-exclamation"},null,-1)),d(" "+a(Math.round(e.aiInsights.importance*100))+"% ",1)],2),s("div",{class:c(["category-badge",e.category])},a(R(e.category)),3)])]),s("div",Fs,[s("div",Ps,[s("div",Us,[s("span",js,a(e.source.name),1),s("div",Es,[t[6]||(t[6]=s("i",{class:"fas fa-shield-check"},null,-1)),s("span",null,a(Math.round(e.source.reliability*100))+"%",1)])]),s("div",qs,a(Q(e.publishedAt)),1)]),s("h3",Hs,a(e.title),1),s("p",Gs,a(e.summary),1),s("div",Qs,[s("div",{class:c(["sentiment-indicator",e.aiInsights.sentiment])},[s("i",{class:c(y(e.aiInsights.sentiment))},null,2),s("span",null,a(T(e.aiInsights.sentiment)),1)],2),s("div",{class:c(["market-impact",e.aiInsights.marketImpact])},[t[7]||(t[7]=s("i",{class:"fas fa-chart-line"},null,-1)),s("span",null,"Impact "+a(S(e.aiInsights.marketImpact)),1)],2)]),s("div",Rs,[s("div",Js,[t[8]||(t[8]=s("i",{class:"fas fa-eye"},null,-1)),s("span",null,a(k(e.stats.views)),1)]),s("div",Ks,[t[9]||(t[9]=s("i",{class:"fas fa-heart"},null,-1)),s("span",null,a(k(e.stats.likes)),1)]),s("div",Os,[t[10]||(t[10]=s("i",{class:"fas fa-share"},null,-1)),s("span",null,a(k(e.stats.shares)),1)]),s("div",Ws,[t[11]||(t[11]=s("i",{class:"fas fa-clock"},null,-1)),s("span",null,a(e.readTime)+" "+a(K()),1)])])])],8,zs))),128))])])):u("",!0),C.value.length>0?(l(),o("section",Xs,[s("h2",Ys,[t[13]||(t[13]=s("i",{class:"fas fa-fire"},null,-1)),d(" "+a(O()),1)]),s("div",Zs,[(l(!0),o(v,null,h(C.value.slice(0,8),(e,i)=>(l(),o("div",{key:e.topic,class:"trending-item",onClick:m=>x(e.topic)},[s("div",ee,a(i+1),1),s("div",te,[s("h4",ne,a(e.topic),1),s("div",ae,[s("span",oe,a(e.count)+" "+a(W()),1),s("div",{class:c(["growth-indicator",{positive:e.growth>0,negative:e.growth<0}])},[s("i",{class:c(e.growth>0?"fas fa-arrow-up":"fas fa-arrow-down")},null,2),s("span",null,a(Math.abs(e.growth).toFixed(1))+"%",1)],2)]),s("div",{class:c(["topic-sentiment",e.sentiment])},[s("i",{class:c(y(e.sentiment))},null,2),s("span",null,a(T(e.sentiment)),1)],2)]),s("div",le,[s("div",{class:"relevance-fill",style:vs({width:e.marketRelevance*100+"%"})},null,4)])],8,se))),128))])])):u("",!0),s("section",ie,[s("div",ce,[s("h2",re,[t[14]||(t[14]=s("i",{class:"fas fa-newspaper"},null,-1)),d(" "+a(X()),1)]),s("div",de,[z(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>L.value=e),onChange:H,class:"sort-select"},[s("option",ue,a(Y()),1),s("option",ge,a(Z()),1),s("option",me,a(ss()),1),s("option",ve,a(es()),1)],544),[[hs,L.value]])])]),s("div",he,[(l(!0),o(v,null,h(U.value,e=>(l(),o("article",{key:e.id,class:"news-article",onClick:i=>$(e)},[s("div",be,[s("img",{src:e.source.logo||"/news-placeholder.jpg",alt:e.title},null,8,pe),s("div",fe,[e.premium?(l(),o("div",ke,[t[15]||(t[15]=s("i",{class:"fas fa-crown"},null,-1)),d(" "+a(ts()),1)])):u("",!0)])]),s("div",we,[s("div",Le,[s("div",Ie,[s("span",ye,a(e.source.name),1),e.author.verified?(l(),o("span",Te,[t[16]||(t[16]=s("i",{class:"fas fa-check-circle"},null,-1)),d(" "+a(e.author.name),1)])):u("",!0)]),s("div",Se,a(I(e.publishedAt)),1)]),s("h3",Ae,a(e.title),1),s("p",Me,a(e.summary),1),e.tags.length>0?(l(),o("div",Ce,[(l(!0),o(v,null,h(e.tags.slice(0,3),i=>(l(),o("span",{key:i,class:"tag",onClick:V(m=>x(i),["stop"])}," #"+a(i),9,xe))),128))])):u("",!0),s("div",$e,[s("div",Ne,[s("div",{class:c(["sentiment",e.aiInsights.sentiment])},[s("i",{class:c(y(e.aiInsights.sentiment))},null,2)],2),s("div",ze,[t[17]||(t[17]=s("i",{class:"fas fa-star"},null,-1)),s("span",null,a(Math.round(e.aiInsights.importance*100))+"%",1)]),s("div",{class:c(["impact",e.aiInsights.marketImpact])},[t[18]||(t[18]=s("i",{class:"fas fa-trending-up"},null,-1)),s("span",null,a(S(e.aiInsights.marketImpact)),1)],2)]),s("div",Ve,[s("span",Be,[t[19]||(t[19]=s("i",{class:"fas fa-eye"},null,-1)),d(" "+a(k(e.stats.views)),1)]),s("span",De,[t[20]||(t[20]=s("i",{class:"fas fa-clock"},null,-1)),s("span",null,a(e.readTime)+a(ns()),1)])])])])],8,_e))),128))]),A.value?(l(),o("div",Fe,[s("button",{class:"load-more-btn",onClick:G,disabled:f.value},[f.value?(l(),o("i",je)):(l(),o("i",Ue)),d(" "+a(f.value?n.$t("loading"):n.$t("load_more")),1)],8,Pe)])):u("",!0)])])),r.value?(l(),o("div",{key:2,class:"article-modal",onClick:N},[s("div",{class:"modal-content",onClick:t[2]||(t[2]=V(()=>{},["stop"]))},[s("button",{class:"close-btn",onClick:N},[...t[21]||(t[21]=[s("i",{class:"fas fa-times"},null,-1)])]),s("div",Ee,[s("h2",null,a(r.value.title),1),s("div",qe,[s("span",null,a(r.value.source.name),1),s("span",null,a(I(r.value.publishedAt)),1)])]),s("div",He,[s("p",null,a(r.value.content),1),s("div",Ge,[s("h4",null,a(as()),1),s("div",Qe,[s("div",Re,[s("label",null,a(os())+":",1),s("span",{class:c(["sentiment",r.value.aiInsights.sentiment])},a(T(r.value.aiInsights.sentiment)),3)]),s("div",Je,[s("label",null,a(ls())+":",1),s("span",null,a(Math.round(r.value.aiInsights.importance*100))+"%",1)]),s("div",Ke,[s("label",null,a(is())+":",1),s("span",{class:c(["impact",r.value.aiInsights.marketImpact])},a(S(r.value.aiInsights.marketImpact)),3)])]),r.value.aiInsights.topics?(l(),o("div",Oe,[s("h5",null,a(cs())+":",1),s("div",We,[(l(!0),o(v,null,h(r.value.aiInsights.topics,e=>(l(),o("span",{key:e,class:"topic-chip"},a(e),1))),128))])])):u("",!0)])])])])):u("",!0)]))}}),Ye=D(Xe,[["__scopeId","data-v-80beebe4"]]),Ze={class:"news-view"},st=B({__name:"NewsView",setup(F){return(g,b)=>(l(),o("div",Ze,[_s(Ye)]))}}),tt=D(st,[["__scopeId","data-v-1b89b9ba"]]);export{tt as default};
