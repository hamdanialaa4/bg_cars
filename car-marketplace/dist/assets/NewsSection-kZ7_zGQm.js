import{_ as O,u as P,r as v,c as N,o as X,a as i,b as c,e as s,f as V,h as f,t,i as l,T as o,F as m,g as p,n as C,w as T,l as S,v as j}from"./index-CsfPRsMY.js";const q={class:"news-section"},G={class:"news-header glass-effect"},H={class:"news-filters"},J=["onClick"],K={class:"news-stats"},Q={class:"stat-card glass-effect"},W={class:"stat-info"},Y={class:"stat-number"},Z={class:"stat-label"},ss={class:"stat-card glass-effect"},es={class:"stat-info"},ts={class:"stat-number"},as={class:"stat-label"},os={class:"stat-card glass-effect"},ns={class:"stat-info"},ls={class:"stat-number"},is={class:"stat-label"},cs={class:"stat-card glass-effect"},rs={class:"stat-info"},ds={class:"stat-number"},us={class:"stat-label"},_s={class:"main-news-grid"},vs={key:0,class:"featured-news glass-effect"},fs={class:"featured-image"},hs=["src","alt"],ws={class:"featured-overlay"},ms={class:"featured-category"},ps={class:"featured-content"},gs={class:"featured-meta"},ys={class:"author"},bs={class:"date"},ks={class:"read-time"},Ms={class:"side-news"},Ns=["onClick"],Cs={class:"side-image"},Ts=["src","alt"],As={class:"category-tag"},Ds={class:"side-content"},Vs={class:"side-meta"},Ss={class:"date"},Rs={class:"views"},$s={class:"news-filters glass-effect"},xs={class:"filters-container"},Is={value:""},zs=["value"],Bs={value:"date"},Es={value:"popularity"},Ls={value:"views"},Us={class:"news-grid"},Fs=["onClick"],Os={class:"news-image"},Ps=["src","alt"],Xs={class:"news-overlay"},js={class:"category"},qs={class:"read-time"},Gs={class:"news-content"},Hs={class:"news-meta"},Js={class:"author-info"},Ks=["src","alt"],Qs={class:"article-stats"},Ws={class:"date"},Ys={class:"views"},Zs={class:"likes"},se={class:"news-tags"},ee={key:0,class:"load-more-section"},te=["disabled"],ae={key:0,class:"fas fa-spinner fa-spin"},oe={key:1,class:"fas fa-plus"},ne={class:"newsletter-section glass-effect"},le={class:"newsletter-content"},ie={class:"newsletter-form"},ce={__name:"NewsSection",setup(re){const u=P(),_=v(""),y=v("date"),b=v(!1),h=v(!1),A=v(!0),g=v(""),w=v({totalArticles:24,totalViews:15420,avgReadTime:3,activeReaders:1250}),R=[{id:"all",icon:"fas fa-th-large"},{id:"cars",icon:"fas fa-car"},{id:"electric",icon:"fas fa-bolt"},{id:"market",icon:"fas fa-chart-line"},{id:"technology",icon:"fas fa-microchip"},{id:"business",icon:"fas fa-briefcase"}],$=["أخبار عامة","سيارات كهربائية","تقنيات جديدة","معارض السيارات","اختبارات القيادة","صناعة السيارات"],x=n=>o.news.categories[n]||n,r=N(()=>u.newsItems.value[0]||null),I=N(()=>u.newsItems.value.slice(1,4)),z=N(()=>{let n=u.newsItems.value.slice(4);return _.value&&(n=n.filter(a=>a.category===_.value)),n}),k=n=>{n.views++,console.log("قراءة المقال:",n.title)},B=()=>{console.log("تصفية حسب:",_.value)},E=()=>{console.log("ترتيب حسب:",y.value)},L=async()=>{b.value=!0;try{await u.fetchAllNews(),w.value={totalArticles:Math.floor(Math.random()*10)+20,totalViews:Math.floor(Math.random()*5e3)+12e3,avgReadTime:Math.floor(Math.random()*3)+2}}catch(n){console.error("فشل تحديث الأخبار:",n)}finally{b.value=!1}},U=async()=>{h.value=!0;try{await new Promise(a=>setTimeout(a,1500));const n=[{id:Date.now()+1,title:"تطورات جديدة في تقنية السيارات الذاتية القيادة",summary:"شركات السيارات الكبرى تكشف عن تقنيات مبتكرة للقيادة الذاتية...",content:"محتوى المقال الكامل...",category:"تقنيات جديدة",author:"سارة أحمد",authorAvatar:"https://i.pravatar.cc/40?img=2",publishedAt:new Date(Date.now()-Math.random()*864e5),readTime:4,views:Math.floor(Math.random()*1e3)+100,likes:Math.floor(Math.random()*50)+10,image:"https://picsum.photos/400/250?random="+(Date.now()+1),tags:["سيارات ذاتية","تقنية","مستقبل"]},{id:Date.now()+2,title:"انخفاض أسعار السيارات المستعملة في بلغاريا",summary:"تقرير جديد يظهر انخفاضاً ملحوظاً في أسعار السيارات المستعملة...",content:"محتوى المقال الكامل...",category:"أخبار عامة",author:"محمد علي",authorAvatar:"https://i.pravatar.cc/40?img=3",publishedAt:new Date(Date.now()-Math.random()*864e5),readTime:3,views:Math.floor(Math.random()*1e3)+100,likes:Math.floor(Math.random()*50)+10,image:"https://picsum.photos/400/250?random="+(Date.now()+2),tags:["أسعار","سوق السيارات","بلغاريا"]}];u.newsItems.value.push(...n),u.newsItems.value.length>20&&(A.value=!1)}catch(n){console.error("فشل تحميل المزيد:",n)}finally{h.value=!1}},F=()=>{if(!g.value){alert("يرجى إدخال بريد إلكتروني صحيح");return}alert("تم الاشتراك بنجاح في النشرة الإخبارية!"),g.value=""},M=n=>{const e=new Date().getTime()-new Date(n).getTime(),d=Math.floor(e/(1e3*60*60)),D=Math.floor(d/24);return D>0?`منذ ${D} يوم`:d>0?`منذ ${d} ساعة`:"منذ قليل"};return X(async()=>{await u.fetchAllNews()}),(n,a)=>(c(),i("div",q,[s("div",G,[s("h1",null,[a[4]||(a[4]=s("i",{class:"fas fa-newspaper"},null,-1)),f(" "+t(l(o).news.title),1)]),s("p",null,t(l(o).news.subtitle),1),s("div",H,[(c(),i(m,null,p(R,e=>s("button",{key:e.id,class:C(["filter-btn",{active:_.value===e.id}]),onClick:d=>_.value=e.id},[s("i",{class:C(e.icon)},null,2),f(" "+t(x(e.id)),1)],10,J)),64))])]),s("div",K,[s("div",Q,[a[5]||(a[5]=s("i",{class:"fas fa-newspaper"},null,-1)),s("div",W,[s("span",Y,t(w.value.totalArticles),1),s("span",Z,t(l(o).news.stats.articles_today),1)])]),s("div",ss,[a[6]||(a[6]=s("i",{class:"fas fa-eye"},null,-1)),s("div",es,[s("span",ts,t(w.value.totalViews.toLocaleString()),1),s("span",as,t(l(o).news.stats.views),1)])]),s("div",os,[a[7]||(a[7]=s("i",{class:"fas fa-users"},null,-1)),s("div",ns,[s("span",ls,t(w.value.activeReaders),1),s("span",is,t(l(o).news.stats.active_readers),1)])]),s("div",cs,[a[8]||(a[8]=s("i",{class:"fas fa-clock"},null,-1)),s("div",rs,[s("span",ds,t(w.value.avgReadTime),1),s("span",us,t(l(o).news.stats.avg_read_time),1)])])]),s("div",_s,[r.value?(c(),i("div",vs,[s("div",fs,[s("img",{src:r.value.image,alt:r.value.title,loading:"lazy"},null,8,hs),s("div",ws,[s("span",ms,t(r.value.category),1)])]),s("div",ps,[s("h2",null,t(r.value.title),1),s("p",null,t(r.value.summary),1),s("div",gs,[s("span",ys,t(r.value.author),1),s("span",bs,t(M(r.value.publishedAt)),1),s("span",ks,t(r.value.readTime)+" "+t(l(o).news.minutes),1)]),s("button",{onClick:a[0]||(a[0]=e=>k(r.value)),class:"btn-primary"},t(l(o).news.read_more),1)])])):V("",!0),s("div",Ms,[(c(!0),i(m,null,p(I.value,e=>(c(),i("div",{key:e.id,class:"side-news-item glass-effect",onClick:d=>k(e)},[s("div",Cs,[s("img",{src:e.image,alt:e.title,loading:"lazy"},null,8,Ts),s("span",As,t(e.category),1)]),s("div",Ds,[s("h3",null,t(e.title),1),s("p",null,t(e.summary.substring(0,100))+"...",1),s("div",Vs,[s("span",Ss,t(M(e.publishedAt)),1),s("span",Rs,t(e.views)+" "+t(l(o).news.views_count),1)])])],8,Ns))),128))])]),s("div",$s,[s("h3",null,t(l(o).news.filters.title),1),s("div",xs,[T(s("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),onChange:B,class:"filter-select"},[s("option",Is,t(l(o).news.filters.all_categories),1),(c(),i(m,null,p($,e=>s("option",{key:e,value:e},t(e),9,zs)),64))],544),[[S,_.value]]),T(s("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e),onChange:E,class:"filter-select"},[s("option",Bs,t(l(o).news.filters.sort_by.date),1),s("option",Es,t(l(o).news.filters.sort_by.popularity),1),s("option",Ls,t(l(o).news.filters.sort_by.views),1)],544),[[S,y.value]]),s("button",{onClick:L,class:"btn-secondary refresh-btn"},[s("i",{class:C(["fas fa-sync-alt",{"fa-spin":b.value}])},null,2),f(" "+t(l(o).news.filters.refresh),1)])])]),s("div",Us,[(c(!0),i(m,null,p(z.value,e=>(c(),i("div",{key:e.id,class:"news-card glass-effect",onClick:d=>k(e)},[s("div",Os,[s("img",{src:e.image,alt:e.title,loading:"lazy"},null,8,Ps),s("div",Xs,[s("span",js,t(e.category),1),s("span",qs,t(e.readTime)+" دقيقة",1)])]),s("div",Gs,[s("h4",null,t(e.title),1),s("p",null,t(e.summary),1),s("div",Hs,[s("div",Js,[s("img",{src:e.authorAvatar,alt:e.author,class:"author-avatar"},null,8,Ks),s("span",null,t(e.author),1)]),s("div",Qs,[s("span",Ws,t(M(e.publishedAt)),1),s("span",Ys,[a[9]||(a[9]=s("i",{class:"fas fa-eye"},null,-1)),f(" "+t(e.views),1)]),s("span",Zs,[a[10]||(a[10]=s("i",{class:"fas fa-heart"},null,-1)),f(" "+t(e.likes),1)])])]),s("div",se,[(c(!0),i(m,null,p(e.tags.slice(0,3),d=>(c(),i("span",{key:d,class:"tag"},t(d),1))),128))])])],8,Fs))),128))]),A.value?(c(),i("div",ee,[s("button",{onClick:U,class:"btn-secondary load-more-btn",disabled:h.value},[h.value?(c(),i("i",ae)):(c(),i("i",oe)),f(" "+t(h.value?l(o).common.loading:l(o).news.load_more),1)],8,te)])):V("",!0),s("div",ne,[s("div",le,[a[11]||(a[11]=s("h3",null,"اشترك في النشرة الإخبارية",-1)),a[12]||(a[12]=s("p",null,"احصل على آخر أخبار السيارات مباشرة في بريدك الإلكتروني",-1)),s("div",ie,[T(s("input",{type:"email","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e),placeholder:"أدخل بريدك الإلكتروني",class:"newsletter-input"},null,512),[[j,g.value]]),s("button",{onClick:F,class:"btn-primary newsletter-btn"},t(l(o).footer.subscribe),1)])])])]))}},ue=O(ce,[["__scopeId","data-v-445d2c61"]]);export{ue as default};
